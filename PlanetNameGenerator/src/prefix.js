/**
 * @author Jamal Kamareddine
 * 
 * All possible planet name prefixes
 */
class Prefix {
    #prefixes = [
        [
            "Ab",
            "Abd",
            "Abs",
            "Abth",
            "Abz",
            "Ad",
            "Adv",
            "Aeg",
            "Aegl",
            "Aet",
            "Aeth",
            "Aev",
            "Ag",
            "Agb",
            "Agn",
            "Agr",
            "Agv",
            "Aj",
            "Ak",
            "Akr",
            "Akv",
            "Al",
            "Alcy",
            "Ald",
            "Alg",
            "Alph",
            "Alt",
            "Am",
            "Amph",
            "Amr",
            "An",
            "Anb",
            "Anc",
            "And",
            "Andr",
            "Angl",
            "Ankt",
            "Ans",
            "Ant",
            "Anth",
            "Anthr",
            "Antl",
            "Ap",
            "Aph",
            "Aphr",
            "Aqu",
            "Ar",
            "Arc",
            "Arct",
            "Ard",
            "Arg",
            "Arm",
            "Art",
            "Arth",
            "Arv",
            "Arx",
            "As",
            "Asg",
            "Ash",
            "Askl",
            "Astr",
            "Ath",
            "Athr",
            "Atl",
            "Atm",
            "Atr",
            "Audr",
            "Aur",
            "Auv",
            "Av",
            "Ax",
            "Ayt",
            "Az",
            "Azr",
            "Azt",
        ],
        [
            "B",
            "Bl",
            "Br",
        ],
        [
            "C",
            "Ch",
            "Chl",
            "Chr",
            "Cr",
        ],
        [
            "D",
            "Dr",
        ],
        [
            "Eb",
            "Ebl",
            "Ech",
            "Eck",
            "Ecl",
            "Ect",
            "Ed",
            "Ehw",
            "Ej",
            "Ek",
            "Ekn",
            "Eks",
            "Ekt",
            "El",
            "Eldr",
            "Elp",
            "Elr",
            "Elv",
            "Emb",
            "Emp",
            "Emr",
            "En",
            "Enc",
            "End",
            "Enr",
            "Ens",
            "Ent",
            "Entr",
            "Enz",
            "Eogr",
            "Eos",
            "Eov",
            "Ep",
            "Eph",
            "Epr",
            "Eps",
            "Equ",
            "Er",
            "Erph",
            "Eryth",
            "Et",
            "Eth",
            "Euch",
            "Eucl",
            "Eun",
            "Euph",
            "Eur",
            "Euryb",
            "Eurym",
            "Euryt",
            "Ev",
            "Ex",
            "Ez",
            "Ezr",
        ],
        [
            "F",
            "Fl",
            "Fr",
        ],
        [
            "G",
            "Gl",
            "Gr",
        ],
        [
            "H",
        ],
        [
            "Ib",
            "Ibr",
            "Ic",
            "Ig",
            "Ign",
            "Igr",
            "Ikr",
            "Ill",
            "In",
            "Ind",
            "Ingw",
            "Inv",
            "Iob",
            "Ion",
            "Ioph",
            "Ip",
            "Iph",
            "Ipl",
            "Ips",
            "Ir",
            "Is",
            "It",
            "Iv",
            "Iw",
            "Ix",
            "Iz",
        ],
        [
            "J",
            "Jh",
        ],
        [
            "K",
            "Kh",
            "Kl",
            "Kr",
        ],
        [
            "L",
        ],
        [ 
            "M",
        ],
        [
            "N",
        ],
        [
            "Ob",
            "Obs",
            "Oc",
            "Ocr",
            "Oct",
            "Octh",
            "Od",
            "Og",
            "Ogd",
            "Ogl",
            "Ogn",
            "Ogr",
            "Ohk",
            "Oj",
            "Ok",
            "Okr",
            "Olv",
            "Om",
            "Omn",
            "On",
            "Onc",
            "Ond",
            "Oor",
            "Op",
            "Oph",
            "Opt",
            "Or",
            "Orb",
            "Org",
            "Orgl",
            "Orl",
            "Orn",
            "Orph",
            "Orth",
            "Orv",
            "Os",
            "Ost",
            "Ostr",
            "Ot",
            "Oth",
            "Ov",
            "Ovn",
            "Our",
            "Ox",
            "Oz",
        ],
        [
            "P",
            "Ph",
            "Phl",
            "Pl",
            "Pr",
        ],
        [
            "Qu",
        ],
        [
            "R",
            "Rh",
        ],
        [
            "S",
            "Sc",
            "Sh",
            "Shr",
            "Sk",
            "Skl",
            "Sl",
            "Sp",
            "Sph",
            "Spl",
            "St",
            "Str",
        ],
        [
            "T",
            "Th",
            "Thr",
            "Tr",
        ],
        [ 
            "Ub",
            "Ud",
            "Ug",
            "Uj",
            "Ukl",
            "Ukr",
            "Ul",
            "Ulg",
            "Ultr",
            "Ulv",
            "Umb",
            "Umbr",
            "Un",
            "Undr",
            "Uobr",
            "Ups",
            "Ur",
            "Urgl",
            "Urkl",
            "Urs",
            "Ut",
            "Uth",
            "Uv",
            "Ux",
            "Uz",
        ],
        [
            "V",
            "Vl",
            "Vr",
        ],
        [
            "W",
        ],
        [
            "X",
            "Xh",
        ],
        [ 
            "Y",
            "Yh",
        ],
        [
            "Z",
            "Zh",
        ],
        [ // More complex prefixes, separated to prevent bloat in each letter
            "Cryx",
            "Cy",
            "Cyg",
            "Cygn",
            "Cyr",
            "Cyz",
            "Fyr",
            "Hybr",
            "Hyd",
            "Hydr",
            "Hyg",
            "Hym",
            "Hyp",
            "Hyr",
            "Hyst",
            "Krypt",
            "Ky",
            "Kyd",
            "Kyl",
            "Kys",
            "Ly",
            "Lyg",
            "Lyk",
            "Lyr",
            "Myc",
            "Myth",
            "Nyct",
            "Nyr",
            "Phyb",
            "Phyl",
            "Phyt",
            "Plyg",
            "Plyth",
            "Psy",
            "Pyg",
            "Pyl",
            "Pyr",
            "Pyth",
            "Pyx",
            "Ry",
            "Ryl",
            "Ryn",
            "Scy",
            "Syr",
            "Syph",
            "Thyb",
            "Thyl",
            "Tyb",
            "Tyg",
            "Tym",
            "Typh",
            "Typhl",
            "Tyr",
            "Tyth",
            "Tyx",
            "Vyk",
            "Wy",
            "Xyl",
            "Xyk",
            "Xyn",
            "Xynth",
            "Xyr",
            "Xyv",
            "Zy",
            "Zyg",
            "Zyk",
            "Zyl",
            "Zynf",
            "Zynt",
            "Zyr",
            "Zyth",
            "Zyv",
        ],
    ];

    /**
     * Gets a random prefix from the above array
     * 
     * @return {string} The prefix
     */
    getPrefix() {
        const letter = this.#prefixes[Math.floor(Math.random() * this.#prefixes.length)];
        const prefix = letter[Math.floor(Math.random() * letter.length)];

        return prefix;
    }

    /**
     * Gets a random prefix that starts with a specific letter
     * 
     * @param letter The letter the prefix starts with
     * 
     * @return {string} The prefix
     */
    getPrefixWithFirstLetter(letter) {
        const lastArray = this.#prefixes[this.#prefixes.length - 1];
        const complexPrefixes = lastArray.filter(prefix => prefix.charAt(0) === letter);
        let letterPrefixArray = [];
        let prefix;
        
        for (let i = 0; i < this.#prefixes.length; i++) {
            if (this.#prefixes[i][0].charAt(0) === letter) {
                letterPrefixArray = [...this.#prefixes[i]];
                break;
            }
        }
        
        (complexPrefixes.length > 0 && Math.random() < 0.1)
            ? prefix = complexPrefixes[Math.floor(Math.random() * complexPrefixes.length)]
            : prefix = letterPrefixArray[Math.floor(Math.random() * letterPrefixArray.length)];
        
        return prefix;
    }

    /**
     * Gets the amount of total prefixes
     * 
     * @return {number} The total number of possible prefixes
     */
    getNumPrefixes() {
        let numPrefixes = 0;

        for (let i = 0; i < this.#prefixes.length; i++) {
            numPrefixes += this.#prefixes[i].length;
        }

        return numPrefixes;
    }
}